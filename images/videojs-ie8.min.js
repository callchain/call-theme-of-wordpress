
var playVideo = function(filePath) {
    var DEFAULT_VERSION = "8.0";
    var ua = navigator.userAgent.toLowerCase();
    var isIE = ua.indexOf("msie") > -1;
    var safariVersion;
    var openVideo = function() {
        $('#myVideoModal').modal({
            backdrop: 'static',
            keyboard: false
        });
 
        var hostname = window.location.hostname;
        var url = filePath;
 
        var srcp = "http://" + hostname + url;
 
        videojs("myvideo", {}, function() {
            window.myPlayer = this;
            myPlayer.src(srcp);
        });
 
        document.getElementById("titleDiv").innerHTML = name;
        $("#btndown").attr("href", url);
 
        var w = $(window).width() * 0.8;
        var h = $(window).height() * 0.8;
 
        var videoCss = { height: h * 0.8, width: '100%' };
        $("#myvideo").css(videoCss);
 
        var playerCss = { width: w, height: h, color: 'white', 'text-align': 'left', 'border-radius': '10px' };
        $("#modalDiv").css(playerCss);
        $('#myVideoModal').on('hidden.bs.modal', function(e) {
            myPlayer.pause();
        })
    }
    if (isIE) {
        safariVersion = ua.match(/msie ([\d.]+)/)[1];
        if (Number(safariVersion) <= Number(DEFAULT_VERSION)) {
            layer.confirm('由于您的浏览器版本过低，该视频无法播放，建议将浏览器升级到最新版本。', {
                btn: ['确定', '取消'] //按钮
            }, function() {
                window.location.href = 'https://browsehappy.com/';
            }, function() {});
        } else {
            openVideo();
        }
    } else {
        openVideo();
    }
};